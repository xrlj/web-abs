<div class="user-centre-content">
  <nz-card class="card-simple user-centre-content-one" nzTitle="个人信息">
    <div class="head-img">
      <img src="assets/images/head.png">
    </div>
    <nz-divider nzType="horizontal"></nz-divider>
    <div class="item-info">
      <i nz-icon nzType="user" nzTheme="outline"></i>
      <label>用户名称</label>
      <span>admin</span>
    </div>
    <nz-divider nzType="horizontal"></nz-divider>
    <div class="item-info">
      <i nz-icon nzType="mobile" nzTheme="outline"></i>
      <label>手机号码</label>
      <span>13543495275</span>
    </div>
    <nz-divider nzType="horizontal"></nz-divider>
    <div class="item-info">
      <i nz-icon nzType="mail" nzTheme="outline"></i>
      <label>电子邮箱</label>
      <span>963852117@qq.com</span>
    </div>
    <nz-divider nzType="horizontal"></nz-divider>
    <div class="item-info">
      <i nz-icon nzType="apartment" nzTheme="outline"></i>
      <label>所属部门</label>
      <span>技术部</span>
    </div>
    <nz-divider nzType="horizontal"></nz-divider>
    <div class="item-info">
      <i nz-icon nzType="team" nzTheme="outline"></i>
      <label>所属角色</label>
      <span>超级管理员</span>
    </div>
    <nz-divider nzType="horizontal"></nz-divider>
    <div class="item-info">
      <i nz-icon nzType="calendar" nzTheme="outline"></i>
      <label>创建日期</label>
      <span>2021-11-26 22:00:43</span>
    </div>
  </nz-card>
  <nz-card class="card-simple user-centre-content-two" nzTitle="基础资料">
    <nz-tabset [nzAnimated]="false">
      <nz-tab nzTitle="基础资料">
        <form nz-form [formGroup]="basicForm" style="margin-top: 16px;">
          <!--真实姓名-->
          <nz-form-item>
            <nz-form-label [nzSpan]="labelSpan" nzFor="realName" nzRequired>真实姓名</nz-form-label>
            <nz-form-control [nzSpan]="controlSpan" nzErrorTip="必填项">
              <input nz-input id="realName" formControlName="realName" placeholder="请输入真实姓名"/>
            </nz-form-control>
          </nz-form-item>
          <!--手机号码-->
          <nz-form-item>
            <nz-form-label [nzSpan]="labelSpan" nzFor="mobile" nzRequired>手机号码</nz-form-label>
            <nz-form-control [nzSpan]="controlSpan" nzErrorTip="必填项">
              <input nz-input id="mobile" formControlName="mobile" maxlength="11" placeholder="请输入手机号码"/>
            </nz-form-control>
          </nz-form-item>
          <!--email-->
          <nz-form-item>
            <nz-form-label [nzSpan]="labelSpan" nzFor="email" nzRequired>邮箱</nz-form-label>
            <nz-form-control [nzSpan]="controlSpan" [nzErrorTip]="emailErrorTpl">
              <input nz-input formControlName="email" placeholder="请输入电子邮箱" type="email" />
              <ng-template #emailErrorTpl let-control>
                <ng-container *ngIf="control.hasError('email')">
                  电子邮箱格式错误!
                </ng-container>
                <ng-container *ngIf="control.hasError('required')">
                  必填项
                </ng-container>
              </ng-template>
            </nz-form-control>
          </nz-form-item>
          <!--性别-->
          <nz-form-item>
            <nz-form-label [nzSpan]="labelSpan">性别</nz-form-label>
            <nz-form-control [nzSpan]="controlSpan">
              <nz-radio-group formControlName="sex">
                <label nz-radio nzValue="1">男</label>
                <label nz-radio nzValue="2">女</label>
                <label nz-radio nzValue="0">保密</label>
              </nz-radio-group>
            </nz-form-control>
          </nz-form-item>
          <nz-form-item style="margin-top: 40px;">
            <nz-form-control [nzOffset]="labelSpan" [nzSpan]="controlSpan">
              <button nz-button nzType="primary">保存</button>
              <button (click)="closeTisTab()" nz-button nzType="primary" nzDanger style="margin-left: 20px;">关闭</button>
            </nz-form-control>
          </nz-form-item>
        </form>
      </nz-tab>
      <nz-tab nzTitle="修改密码">
        <form nz-form [formGroup]="modifyPwdForm" style="margin-top: 16px;">
          <nz-form-item>
            <nz-form-label [nzSpan]="labelSpan" nzFor="oldPassword" nzRequired>旧密码</nz-form-label>
            <nz-form-control [nzSpan]="controlSpan">
              <input nz-input type="password" formControlName="oldPassword"
                     (ngModelChange)="this.modifyPwdForm.controls.password.updateValueAndValidity()" placeholder="请输入旧密码"/>
              <nz-form-explain
                *ngIf="modifyPwdForm.get('oldPassword')?.dirty && modifyPwdForm.get('oldPassword')?.errors">请输入旧的密码!
              </nz-form-explain>
            </nz-form-control>
          </nz-form-item>
          <nz-form-item>
            <nz-form-label [nzSpan]="labelSpan" nzRequired>密码</nz-form-label>
            <nz-form-control [nzSpan]="controlSpan" nzHasFeedback [nzErrorTip]="passwordErrorTpl">
              <input nz-input type="password" formControlName="password"
                     (ngModelChange)="updatePwdValidateConfirmPassword()" placeholder="请输入新密码"/>
              <ng-template #passwordErrorTpl let-control>
                <ng-container *ngIf="control.hasError('required')">
                  请输入密码！
                </ng-container>
                <ng-container *ngIf="control.hasError('notOld')">
                  新密码不能和旧密码一样！
                </ng-container>
              </ng-template>
            </nz-form-control>
          </nz-form-item>
          <nz-form-item>
            <nz-form-label [nzSpan]="labelSpan" nzRequired>确认密码</nz-form-label>
            <nz-form-control [nzSpan]="controlSpan" nzHasFeedback [nzErrorTip]="confirmPasswordErrorTpl">
              <input nz-input type="password" formControlName="confirm" placeholder="请确认密码"/>
              <ng-template #confirmPasswordErrorTpl let-control>
                <ng-container *ngIf="control.hasError('required')">
                  请再次输入密码!
                </ng-container>
                <ng-container *ngIf="control.hasError('confirm')">
                  确认密码和密码不一致!
                </ng-container>
              </ng-template>
            </nz-form-control>
          </nz-form-item>
          <nz-form-item style="margin-top: 40px;">
            <nz-form-control [nzOffset]="labelSpan" [nzSpan]="controlSpan">
              <button nz-button nzType="primary">保存</button>
              <button (click)="closeTisTab()" nz-button nzType="primary" nzDanger style="margin-left: 20px;">关闭</button>
            </nz-form-control>
          </nz-form-item>
        </form>
      </nz-tab>
    </nz-tabset>
  </nz-card>
</div>
